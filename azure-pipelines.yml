variables:
  CHOCOLATEY_CACHE_DIR: $(Pipeline.Workspace)\chocolatey_cache
  CHOCOLATEY_REPO: 'https://pkgs.dev.azure.com/edmcman/choco-vc/_packaging/choco-vc@Local/nuget/v2'

trigger:
- master

stages:
- template: templates/build.yaml
  parameters:
    name: msvisualcpp-2008sp1express
- template: templates/test.yaml
  parameters:
    name: msvisualcpp-2008sp1express

- template: templates/build.yaml
  parameters:
    name: msvisualcpp-2010express
- template: templates/test.yaml
  parameters:
    name: msvisualcpp-2010express

- template: templates/build.yaml
  parameters:
    name: msvisualstudio-2012express
- template: templates/test.yaml
  parameters:
    name: msvisualstudio-2012express

# - template: templates/build.yaml
#   parameters:
#     name: msvisualstudio-2012professional

- template: templates/build.yaml
  parameters:
    name: msvisualstudio-2013express
- template: templates/test.yaml
  parameters:
    name: msvisualstudio-2013express

- template: templates/build.yaml
  parameters:
    name: msvisualstudio-2015express
- template: templates/test.yaml
  parameters:
    name: msvisualstudio-2015express
